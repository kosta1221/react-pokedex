(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),a=n(19),s=n.n(a),r=(n(24),n(4)),i=(n(25),n(9)),l=n(3),u=n.n(l),p=n(5),d=n(6),f=n.n(d),j="http://localhost:3001/api",h=function(){var e=Object(p.a)(u.a.mark((function e(t,n,c,o){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("trying to fetch..."),console.log("".concat(j,"/pokemon/").concat(c)),e.prev=2,console.log(t),n({pokemonData:t.pokemonData,isFetching:!0}),e.next=7,f()({method:"GET",url:"".concat(j,"/pokemon/").concat(c),headers:{"Content-Type":"application/json"}});case 7:a=e.sent,n({pokemonData:a.data,isFetching:!1}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response.data),o(e.t0.response.data),n({pokemonData:t.pokemonData,isFetching:!1});case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,c,o){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(u.a.mark((function e(t,n,c){var o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("trying to fetch names..."),console.log("".concat(j,"/pokemon/").concat(n)),e.prev=2,e.next=5,f()({method:"GET",url:"".concat(j,"/pokemon/").concat(n),headers:{"Content-Type":"application/json"}});case 5:o=e.sent,a=o.data.results.map((function(e){return e.name})),t(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response.data),c(e.t0.response.data);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,c){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(u.a.mark((function e(t,n,c){var o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("trying to fetch ".concat(t," types...")),console.log("".concat(j,"/type/").concat(t)),e.prev=2,e.next=5,f()({method:"GET",url:"".concat(j,"/type/").concat(t),headers:{"Content-Type":"application/json"}});case 5:o=e.sent,a=o.data,console.log(o.data),n(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response.data),c(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,c){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(u.a.mark((function e(t,n,c,o){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("trying to catch(post) ".concat(t.name,"...")),console.log("".concat(j,"/collection/catch")),e.prev=2,e.next=5,f()({method:"POST",url:"".concat(j,"/collection/catch"),headers:{"Content-Type":"application/json"},data:t});case 5:a=e.sent,console.log(a.data[a.data.length-1].name),console.log(a.data),c(Object(i.a)(a.data)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response.data),o(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,c,o){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(u.a.mark((function e(t,n,c){var o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("trying to fetch my collection..."),console.log("".concat(j,"/collection")),e.prev=2,e.next=5,f()({method:"GET",url:"".concat(j,"/collection"),headers:{"Content-Type":"application/json"}});case 5:o=e.sent,a=o.data,console.log(o.data),n(Object(i.a)(a)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response.data),c(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,c){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(u.a.mark((function e(t,n,c){var o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("trying to release pokemon id: ".concat(t," from collection...")),console.log("".concat(j,"/collection/").concat(t)),e.prev=2,e.next=5,f()({method:"DELETE",url:"".concat(j,"/collection/").concat(t),headers:{"Content-Type":"application/json"}});case 5:o=e.sent,a=o.data,console.log(o.data),n(Object(i.a)(a)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response.data),c(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,c){return e.apply(this,arguments)}}();function k(e){return e.charAt(0).toUpperCase()+e.slice(1)}var y=n(0);var x=function(e){var t=e.pokemonsOfType,n=e.data,c=e.setData,o=e.setErrorMessage,a=function(e){var t=e.target.getAttribute("name");h(n,c,t,o)};return Object(y.jsx)("div",{className:"grid-container",children:t.map((function(e,t){return Object(y.jsxs)("div",{className:"card text-white bg-secondary",children:[Object(y.jsx)("span",{className:"card-header",children:e.name}),Object(y.jsx)("img",{src:e.sprites.front_default,alt:"pokemon",onMouseEnter:function(t){return t.target.src=e.sprites.back_default},onMouseLeave:function(t){return t.target.src=e.sprites.front_default},name:e.name,onClick:a})]},"type-grid-pokemon-".concat(t))}))})};var C=function(e){var t=e.pokemonData,n=e.setPokemonsOfType,c=(e.isFetching,e.setErrorMessage),o=function(e){var t=e.target.getAttribute("type");console.log(t),b(t,n,c)},a=[],s=function(e){return"sprites"===e||"id"===e?"continue":Array.isArray(t[e])&&"types"===e?(a.push(Object(y.jsxs)("div",{className:"pokemon-data-div",children:[Object(y.jsx)("span",{children:"".concat(k(e),": ")}),t[e].map((function(n,c){return t[e].length,Object(y.jsx)("span",{className:"btn btn-outline-primary",type:n,onClick:o,children:"".concat(n)},"type-".concat(c))}))]},e)),"continue"):void a.push(Object(y.jsxs)("div",{className:"pokemon-data-div",children:[Object(y.jsx)("span",{children:"".concat(k(e),": ")}),Object(y.jsx)("span",{children:t[e]})]},e))};for(var r in t)s(r);return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"pokemon-data-except-big-artwork",children:[Object(y.jsx)("div",{children:a}),Object(y.jsx)("img",{src:t.sprites.front_default,alt:"pokemon",onMouseEnter:function(e){return e.target.src=t.sprites.back_default},onMouseLeave:function(e){return e.target.src=t.sprites.front_default}})]}),Object(y.jsx)("img",{className:"big-artwork",src:t.sprites.other.dream_world.front_default,alt:"pokemon-banner"})]})},w=function(e){var t=e.suggestions,n=e.setInputValue,c=function(e){n(e.target.innerText)},o=t.map((function(e,t){return Object(y.jsx)("div",{className:"suggestion",onClick:c,children:e},"suggestion-".concat(t))}));return Object(y.jsx)("div",{className:"suggestions",children:o})};var E=function(e){var t=e.data,n=e.setData,c=e.inputValue,o=e.handleInputChange,a=e.searchSuggestions,s=e.searchButtonClickCount,r=e.setSearchButtonClickCount,i=e.setInputValue,l=e.pokemonsOfType,u=e.setPokemonsOfType,p=e.setErrorMessage;return Object(y.jsxs)("section",{className:"pokemon-section",children:[Object(y.jsx)("h1",{className:"main-header",children:"Pokedex"}),Object(y.jsxs)("div",{className:"autocomplete",children:[Object(y.jsx)("input",{id:"search-input",onChange:o,placeholder:"pikachu...",value:c}),Object(y.jsx)("button",{id:"search-button",onClick:function(){return r(s+1)},children:"\ud83d\udd0d"}),Object(y.jsx)(w,{id:"search-suggestions",suggestions:a,setInputValue:i})]}),Object(y.jsx)(C,{pokemonData:t.pokemonData,isFetching:t.isFetching,setPokemonData:n,pokemonsOfType:l,setPokemonsOfType:u,setErrorMessage:p})]})};var T=function(e){var t=e.data,n=(e.setData,e.myCollection),o=e.setMyCollection,a=e.setErrorMessage,s=e.isCollectionDisplayed,r=e.setIscollectionDisplayed,i=Object(c.useRef)(null);console.log(i);var l=Object(c.useRef)(null);console.log(l),Object(c.useEffect)((function(){O(n,o,a)}),[]),Object(c.useEffect)((function(){s?(l.current.style.display="grid",i.current.innerText="Hide My Collection"):(l.current.style.display="none",i.current.innerText="View My Collection")}),[s]);var u=t.pokemonData,p=function(e){var t=e.target.getAttribute("pokemonid");console.log(t),v(t,o,a)};return Object(y.jsxs)("div",{className:"collection-section",children:[Object(y.jsx)("div",{ref:l,className:"my-collection",children:n.map((function(e,t){return Object(y.jsxs)("div",{className:"card text-white bg-primary",children:[Object(y.jsx)("span",{className:"card-header",children:e.name}),Object(y.jsx)("img",{src:e.sprites.front_default,alt:"pokemon",onMouseEnter:function(t){return t.target.src=e.sprites.back_default},onMouseLeave:function(t){return t.target.src=e.sprites.front_default}}),Object(y.jsx)("button",{className:"btn btn-warning",pokemonid:e.id,onClick:p,children:"Release"})]},"collection-pokemon-".concat(t))}))}),Object(y.jsx)("button",{ref:i,className:"btn btn-primary",onClick:function(e){console.log(n);try{O(n,o,a)}catch(t){throw console.log(t),t}r(!s)},children:"View My Collection"}),Object(y.jsx)("button",{className:"btn btn-primary",onClick:function(e){console.log(u),m(u,n,o,a)},children:"Catch"})]})};var D=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(""),s=Object(r.a)(a,2),i=s[0],l=s[1],u=Object(c.useState)([]),p=Object(r.a)(u,2),d=p[0],f=p[1],j=Object(c.useState)([]),b=Object(r.a)(j,2),m=b[0],O=b[1],v=Object(c.useState)("pikachu"),k=Object(r.a)(v,2),C=k[0],w=k[1],D=Object(c.useState)(0),N=Object(r.a)(D,2),M=N[0],S=N[1],_=Object(c.useState)({pokemonData:{id:null,name:"",height:null,weight:null,types:[],sprites:{other:{dream_world:{}}}},isFetching:!1}),F=Object(r.a)(_,2),I=F[0],P=F[1],V=Object(c.useState)([]),A=Object(r.a)(V,2),L=A[0],B=A[1],G=Object(c.useState)([]),R=Object(r.a)(G,2),q=R[0],J=R[1],H=Object(c.useRef)(null);return console.log(H),Object(c.useEffect)((function(){H.current.style.display=""===i?"none":"block"}),[i]),Object(c.useEffect)((function(){g(O,"limit=800",l),window.addEventListener("click",(function(e){document.querySelector(".suggestions").style.display="none",l("")}))}),[]),Object(c.useEffect)((function(){h(I,P,C,l)}),[M]),Object(c.useEffect)((function(){console.log(C);var e=m.filter((function(e){return e.includes(C)}));f(e)}),[C]),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsxs)("div",{className:"pokemon-and-collection",children:[Object(y.jsx)(E,{data:I,setData:P,inputValue:C,handleInputChange:function(e){w(e.target.value),document.querySelector(".suggestions").style.display="block"},searchSuggestions:d,searchButtonClickCount:M,setSearchButtonClickCount:S,setInputValue:w,pokemonsOfType:L,setPokemonsOfType:B,setErrorMessage:l}),Object(y.jsx)(T,{data:I,setData:P,myCollection:q,setMyCollection:J,setErrorMessage:l,isCollectionDisplayed:n,setIscollectionDisplayed:o})]}),Object(y.jsx)("div",{ref:H,className:"alert alert-danger alert-dismissible fade show",children:i}),Object(y.jsx)(x,{pokemonsOfType:L,data:I,setData:P,setErrorMessage:l})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),a(e),s(e)}))};s.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(D,{})}),document.getElementById("root")),N()}},[[46,1,2]]]);
//# sourceMappingURL=main.de6ef4ee.chunk.js.map